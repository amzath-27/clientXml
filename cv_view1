
package swing;
import java.awt.BorderLayout;
import java.awt.GridLayout;
import java.util.ArrayList;
import java.util.List;

import javax.swing.*;
import controller.experience_pro;
import controller.experiences_info;
import controller.langue;
import controller.langues;
import controller.Curriculum;
import controller.Listecv;
import java.awt.BorderLayout;
import java.awt.GridLayout;
import java.util.ArrayList;
import java.util.List;

public class CV_View {  
	private JFrame frame, parent;
	private Curriculum cv;
        
	public CV_View(Curriculum cv, JFrame parent) {
		this.cv = cv;
        this.parent = parent;
		createView();
		placeComponents();
		createController();
	}

	private void createController() {
	}

	private void placeComponents() {
		JPanel p = new JPanel(); {
	p.add(new JLabel("Curriculum vitae de " + cv.getFirstName() + " " + cv.getLastName() + " " + cv.getAdresse()));			
		}
		frame.add(p, BorderLayout.NORTH);
		
		p = new JPanel (new GridLayout(0,1)); {
			JPanel q;
			if (cv.getExperiences().getExpereiences().size() != 0) { 
				 q = new JPanel(new GridLayout(cv.getExperiences().getExpereiences().size()+1 , 1)); {
					q.add(new JLabel("Experience professionnelle : "));
					for (experience_pro exp : cv.getExperiences().getExpereiences()) {
						q.add(new JLabel("==> " + exp.getDate() + " et la date est: " + exp.getExperience() ));
					}
				}
				p.add(q);
			}
                        
			if (cv.getLangues().getLangueList().size() != 0) {
				q = new JPanel(new GridLayout(cv.getLangues().getLangueList().size() + 1, 1)); {
					q.add(new JLabel("Langues : "));
					for (langue l : cv.getLangues().getLangueList()) {
						q.add(new JLabel("==>" + l.getnom() + "Niveau :" + l.getnivo()));
					}
				}
				p.add(q);
			}
		}
		frame.add(p, BorderLayout.CENTER);
		
	}

	private void createView() {
		// TODO Auto-generated method stub
		frame = new JFrame("CV");
        try {
            UIManager.setLookAndFeel("javax.swing.plaf.nimbus.NimbusLookAndFeel");
            SwingUtilities.updateComponentTreeUI(frame);
            //force chaque composant de la fenêtre à appeler sa méthode updateUI
        } catch (InstantiationException | ClassNotFoundException | UnsupportedLookAndFeelException | IllegalAccessException e) {
        }
		frame.setSize(300,400);
		frame.setLocationRelativeTo(parent);
		frame.setVisible(true);
	}
	
	public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
            	Curriculum cv = new Curriculum();
            	cv.setFirstName("Jeremy");
            	cv.setLastName("Hebert");
                cv.setAdresse("stanislas girardin");
                  List<experience_pro> lCp = new ArrayList<experience_pro>();
                  lCp.add(new experience_pro("12/12/2014","maintenance"));
                  lCp.add(new experience_pro("25/12/2015","vendeur"));
                  lCp.add(new experience_pro("25/09/2014","poisson"));
                 experiences_info ci = new experiences_info(lCp);
                 cv.setExperiences(ci);
                 
            	List<langue> langues = new ArrayList<langue>();
            	langues.add(new langue("Anglais","intermediaire"));
            	langues.add(new langue("Espagnol","couramment"));
                langues lan = new langues (langues);
            	cv.setLangues(lan);
                new CV_View(cv, null);
            }
        });
    }
}
